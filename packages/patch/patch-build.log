Fetching(Source0): ftp://ftp.gnu.org/gnu/patch/patch-2.6.1.tar.xz
Executing(%prep): /bin/sh -e /var/tmp/rpm-tmp.30704
+ umask 022
+ cd /usr/src/rpm/BUILD
+ cd /usr/src/rpm/BUILD
+ rm -rf patch-2.6.1
+ /usr/bin/xz -dc /usr/src/rpm/SOURCES/patch-2.6.1.tar.xz
+ /bin/tar -xf -
+ STATUS=0
+ '[' 0 -ne 0 ']'
+ cd patch-2.6.1
+ exit 0
Executing(%build): /bin/sh -e /var/tmp/rpm-tmp.30704
+ umask 022
+ cd /usr/src/rpm/BUILD
+ cd patch-2.6.1
+ export 'CFLAGS=-Os -pipe'
+ CFLAGS='-Os -pipe'
+ ./configure --prefix=/usr
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking how to run the C preprocessor... gcc -E
checking for a BSD-compatible install... /usr/bin/install -c
checking whether make sets $(MAKE)... yes
checking for ed... /usr/bin/ed
checking for bash... /bin/bash
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking minix/config.h usability... no
checking minix/config.h presence... no
checking for minix/config.h... no
checking whether it is safe to define __EXTENSIONS__... yes
checking for gcc option to accept ISO C99... -std=gnu99
checking for gcc -std=gnu99 option to accept ISO Standard C... (cached) -std=gnu99
checking for special C compiler options needed for large files... no
checking for _FILE_OFFSET_BITS value needed for large files... no
checking for ANSI C header files... (cached) yes
checking fcntl.h usability... yes
checking fcntl.h presence... yes
checking for fcntl.h... yes
checking utime.h usability... yes
checking utime.h presence... yes
checking for utime.h... yes
checking for mode_t... yes
checking for off_t... yes
checking for stdbool.h that conforms to C99... yes
checking for _Bool... yes
checking sys/time.h usability... yes
checking sys/time.h presence... yes
checking for sys/time.h... yes
checking for utime.h... (cached) yes
checking for struct utimbuf... yes
checking for d_ino member in directory struct... yes
checking whether system is Windows or MSDOS... no
checking for long file names... yes
checking for pathconf... yes
checking whether // is distinct from /... no
checking whether strerror_r is declared... yes
checking for strerror_r... yes
checking whether strerror_r returns char *... yes
checking for error_at_line... yes
checking for memchr... yes
checking whether strndup is declared... yes
checking for working strndup... yes
checking whether strnlen is declared... yes
checking for working strnlen... yes
checking getopt.h usability... yes
checking getopt.h presence... yes
checking for getopt.h... yes
checking for getopt_long_only... yes
checking whether optreset is declared... no
checking for working GNU getopt function... yes
checking whether getenv is declared... yes
checking for ssize_t... yes
checking for strcasecmp... yes
checking for strncasecmp... yes
checking for inline... inline
checking whether the compiler generally respects inline... yes
checking whether mktemp is declared... yes
checking for geteuid... yes
checking for getuid... yes
checking for mktemp... yes
checking for raise... yes
checking for sigaction... yes
checking for sigprocmask... yes
checking for sigsetmask... yes
checking for _LARGEFILE_SOURCE value needed for large files... no
checking whether clearerr_unlocked is declared... yes
checking whether feof_unlocked is declared... yes
checking whether ferror_unlocked is declared... yes
checking whether fflush_unlocked is declared... yes
checking whether fgets_unlocked is declared... yes
checking whether fputc_unlocked is declared... yes
checking whether fputs_unlocked is declared... yes
checking whether fread_unlocked is declared... yes
checking whether fwrite_unlocked is declared... yes
checking whether getc_unlocked is declared... yes
checking whether getchar_unlocked is declared... yes
checking whether putc_unlocked is declared... yes
checking whether putchar_unlocked is declared... yes
checking whether malloc, realloc, calloc are POSIX compliant... yes
checking for dirent.h that defines DIR... yes
checking for library containing opendir... none required
checking whether closedir returns void... no
checking for fcntl.h... (cached) yes
checking for unistd.h... (cached) yes
checking for DOS-style setmode... no
checking for vprintf... yes
checking for _doprnt... no
checking for mkdir... yes
checking whether mkdir takes only one argument... no
checking whether system is Windows or MSDOS... (cached) no
checking for long file names... (cached) yes
configure: creating ./config.status
config.status: creating Makefile
config.status: creating config.h
+ make -j4
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/argmatch.o gl/lib/argmatch.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/backupfile.o gl/lib/backupfile.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/basename.o gl/lib/basename.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/dirname.o gl/lib/dirname.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/stripslash.o gl/lib/stripslash.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/exitfail.o gl/lib/exitfail.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/hash.o gl/lib/hash.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/quote.o gl/lib/quote.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/quotearg.o gl/lib/quotearg.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/safe-write.o gl/lib/safe-write.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/xmalloc.o gl/lib/xmalloc.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/xstrndup.o gl/lib/xstrndup.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/error.o gl/lib/error.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o gl/lib/full-write.o gl/lib/full-write.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o src/merge.o src/merge.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o src/inp.o src/inp.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o src/maketime.o src/maketime.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o src/partime.o src/partime.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o src/patch.o src/patch.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o src/pch.o src/pch.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o src/quotesys.o src/quotesys.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o src/util.o src/util.c
gcc -std=gnu99 -c  -DHAVE_CONFIG_H -Ded_PROGRAM=\"/usr/bin/ed\" -DENABLE_MERGE -I. -I./src -I./gl/lib -Os -pipe -o src/version.o src/version.c
gcc -std=gnu99 -o src/patch -Os -pipe  gl/lib/argmatch.o gl/lib/backupfile.o gl/lib/basename.o gl/lib/dirname.o gl/lib/stripslash.o gl/lib/exitfail.o gl/lib/hash.o gl/lib/quote.o gl/lib/quotearg.o gl/lib/safe-write.o gl/lib/xmalloc.o gl/lib/xstrndup.o gl/lib/error.o gl/lib/full-write.o src/merge.o src/inp.o src/maketime.o src/partime.o src/patch.o src/pch.o src/quotesys.o src/util.o src/version.o 
src/patch.o: In function `make_temp':
patch.c:(.text+0x17b): warning: the use of `mktemp' is dangerous, better use `mkstemp'
+ make check
[tests/asymmetric-hunks]
[31] patch < a.diff -- ok
[38] patch < a.diff -- ok
[58] patch < a.diff -- ok
[79] patch < a.diff -- ok
4 tests (4 passed, 0 failed)
[tests/backup-prefix-suffix]
[24] patch -b -p1 < ab.diff -- ok
[28] cat f.orig -- ok
[33] patch -b -B prefix. -p1 < ab.diff -- ok
[37] cat prefix.f -- ok
[42] patch -b -z .suffix -p1 < ab.diff -- ok
[46] cat f.suffix -- ok
[51] patch -b -B prefix. -z .suffix -p1 < ab.diff -- ok
[55] cat prefix.f.suffix -- ok
[62] patch -b -p1 < ab.diff -- ok
[66] cat f.bak -- ok
[72] patch -b -p1 < ab.diff -- ok
[76] cat f.~2~ -- ok
[82] patch -b -p1 < ab.diff -- ok
[86] cat f.~3~ -- ok
[105] patch -b -p1 < ab.diff -- ok
[109] cat d/f.orig -- ok
[114] patch -b -B orig/ -p1 < ab.diff -- ok
[118] cat orig/d/f -- ok
[123] patch -b -B orig/ -z .orig -p1 < ab.diff -- ok
[127] cat orig/d/f.orig -- ok
[132] patch -b -Y .orig/ -p1 < ab.diff -- ok
[136] cat d/.orig/f -- ok
[141] patch -b -Y .orig/ -z .orig -p1 < ab.diff -- ok
[145] cat d/.orig/f.orig -- ok
24 tests (24 passed, 0 failed)
[tests/corrupt-reject-files]
[43] patch a < ab.diff || echo "Status: $?" -- ok
[50] cat -A a.rej -- ok
2 tests (2 passed, 0 failed)
[tests/create-delete]
[26] patch -f -p1 < f.diff || echo "Status: $?" -- ok
[44] patch -f < f.diff || echo "Status: $?" -- ok
[58] patch -p0 < f.diff || echo "Status: $?" -- ok
[72] patch -p0 -f < f.diff || echo "Status: $?" -- ok
[88] patch -f f < f.diff || echo "Status: $?" -- ok
[97] ls -l f.orig | sed "s,\(..........\).*,\1," -- ok
[108] patch -f < f.diff || echo "Status: $?" -- ok
7 tests (7 passed, 0 failed)
[tests/crlf-handling]
[24] patch c < ab.diff -- ok
[31] patch c < ab.diff -- ok
[38] patch c < ab.diff -- ok
[48] patch c < ab.ed -- ok
[58] patch c < ab.diff -- ok
[62] cat -A c -- ok
[70] patch c < ab.diff -- ok
[74] cat -A c -- ok
[82] patch c < ab.diff -- ok
[86] cat -A c -- ok
[94] patch c < ab.diff -- ok
[97] cat -A c -- ok
[108] patch c < ab.diff -- ok
[113] cat -A c -- ok
[118] patch --binary c < ab.diff -- ok
[122] cat -A c -- ok
[130] patch c < ab.diff -- ok
[135] cat -A c -- ok
[140] patch --binary c < ab.diff -- ok
[144] cat -A c -- ok
[152] patch c < ab.diff -- ok
[157] cat -A c -- ok
[162] patch --binary c < ab.diff -- ok
[166] cat -A c -- ok
[183] patch c < ab.diff -- ok
[187] cat -A c -- ok
26 tests (26 passed, 0 failed)
[tests/filename-choice]
[26] patch -p0 < f.diff -- ok
[30] cat f -- ok
2 tests (2 passed, 0 failed)
[tests/global-reject-files]
[34] patch -p0 < ab.diff -- ok
[41] patch -p0 -f < ab.diff || echo "Status: $?" -- ok
[51] cat a.rej -- ok
[59] cat b.rej -- ok
[67] patch -p0 -f -r ab.rej < ab.diff || echo "Status: $?" -- ok
[77] cat ab.rej -- ok
6 tests (6 passed, 0 failed)
[tests/inname]
[32] patch x < f.diff -- ok
[37] cat x -- ok
2 tests (2 passed, 0 failed)
[tests/line-numbers]
[34] patch -f --verbose a < a.diff | grep ^Hunk -- ok
[40] cat a -- ok
[52] patch -f --verbose a < a.diff | grep ^Hunk -- ok
[58] cat a -- ok
4 tests (4 passed, 0 failed)
[tests/merge]
[59] x 3 -- ok
[69] x 3  2d -- ok
[77] x 2  2ib -- ok
[87] x 3  2ib -- 3ic -- ok
[105] x 3  2c2b -- 2c2c -- ok
[129] x 3  2d -- 2d -- ok
[139] x 2  2ibc -- 2ibc -- ok
[151] x 4  2aa 2aa -- 2aa 2aa -- ok
[171] x 4  2d -- 3d -- ok
[196] x 4  3d -- 2d -- ok
[223] x 3  3ib -- 2d -- ok
[247] x 3  2d -- 3ib -- ok
[277] x 1  1cb -- 1cc -- ok
[297] x 4  2ca 3cb -- 2ca 3cc -- ok
[325] x 6  3c3b 4c4b -- 3c3c 4c4c -- ok
[358] x 4  2cb 3ca -- 2cc 3ca -- ok
[386] x 3  2ib 3ib -- 2ic -- ok
[413] x 3  2ib 3ib 3ib -- 2ic -- ok
[442] x 9  4ca 5cb 6ca -- 4ca 5cc 6ca -- ok
[482] x 3  2ib 3ib -- 1i0 -- ok
[498] x 4  2ib 4ib -- 1i0 3ic -- ok
[522] x 5  2,4d -- 3c3c -- ok
[550] x 5  3c3c -- 2,4d -- ok
[580] x 3  1,2d -- 2ic -- ok
[605] x 3  2ic -- 1,2d -- ok
25 tests (25 passed, 0 failed)
[tests/munged-context-format]
[28] patch < ab.diff -- ok
[35] patch < c.diff -- ok
2 tests (2 passed, 0 failed)
[tests/need-filename]
[22] patch < n.diff || echo "Status: $?" -- ok
[27] patch -f -n < n.diff || echo "Status: $?" -- ok
[35] patch f < n.diff -- ok
[50] patch < e.diff || echo "Status: $?" -- ok
[55] patch -f -e < e.diff || echo "Status: $?" -- ok
[63] patch f < e.diff -- ok
[65] cat f -- ok
[82] patch < h+c.diff -- ok
[86] cat f -- ok
[92] patch < c.diff || echo "Status: $?" -- ok
[98] patch f < c.diff -- ok
[102] cat f -- ok
[116] patch < h+u.diff -- ok
[120] cat f -- ok
[126] patch < u.diff || echo "Status: $?" -- ok
[132] patch f < u.diff -- ok
[136] cat f -- ok
17 tests (17 passed, 0 failed)
[tests/no-newline-triggers-assert]
[32] patch -p0 < f.diff -- ok
1 tests (1 passed, 0 failed)
[tests/preserve-c-function-names]
[36] patch c < ab.diff || cat c.rej -- ok
1 tests (1 passed, 0 failed)
[tests/preserve-mode-and-timestamp]
[40] patch -p1 --backup --set-utc < f.diff -- ok
[44] date -u "+%Y-%m-%d %H:%M:%S %z" -r f -- ok
[51] ls -l f.orig | sed "s,\(..........\).*,\1," -- ok
[64] patch -p1 --backup --set-utc < f.diff || echo "Status: $?" -- ok
[72] ls -l f.rej | sed "s,\(..........\).*,\1," -- ok
[85] patch -p1 --backup --set-utc < f.diff || echo "Status: $?" -- ok
[93] ls -l f.rej | sed "s,\(..........\).*,\1," -- ok
7 tests (7 passed, 0 failed)
[tests/reject-format]
[31] patch -f -F0 --no-backup-if-mismatch f < f.diff || echo "Status: $?" -- ok
[38] cat f.rej -- ok
[61] patch -f -F0 --no-backup-if-mismatch f < f.diff || echo "Status: $?" -- ok
[68] cat f.rej -- ok
[85] patch -f -F0 --no-backup-if-mismatch --reject-format=unified f < f.diff || echo "Status: $?" -- ok
[92] cat f.rej -- ok
[108] patch -f -F0 --no-backup-if-mismatch --reject-format=context f < f.diff || echo "Status: $?" -- ok
[115] cat f.rej -- ok
[143] patch -f < ab.diff || echo "Status: $?" -- ok
[150] cat a.rej -- ok
10 tests (10 passed, 0 failed)
[tests/remember-backup-files]
[38] patch -p0 < f.diff -- ok
[47] cat f.orig -- ok
[71] patch -p0 < fg.diff -- ok
[78] cat f.orig -- ok
[82] cat g.orig -- ok
[107] patch -p0 < f.diff -- ok
6 tests (6 passed, 0 failed)
[tests/remember-reject-files]
[36] patch -p0 < f.diff || echo "Status: $?" -- ok
[49] cat f.rej -- ok
2 tests (2 passed, 0 failed)
[tests/unmodified-files]
[32] patch -b -B backup/ a < a.diff || echo "Status: $?" -- ok
[39] test a -ef a.first -- ok
[41] cat backup/a -- ok
[54] patch -o b a < a.diff -- ok
[58] cat b -- ok
5 tests (5 passed, 0 failed)
All tests succeeded!
+ exit 0
Executing(%install): /bin/sh -e /var/tmp/rpm-tmp.16089
+ umask 022
+ cd /usr/src/rpm/BUILD
+ /bin/rm -rf /var/tmp/patch-root
+ /bin/mkdir -p /var/tmp/patch-root
+ cd patch-2.6.1
+ make prefix=/var/tmp/patch-root/usr mandir=/var/tmp/patch-root/usr/share/man install
/bin/sh ./mkinstalldirs /var/tmp/patch-root/usr/bin /var/tmp/patch-root/usr/share/man/man1
mkdir -p -- /var/tmp/patch-root/usr/bin /var/tmp/patch-root/usr/share/man/man1
/usr/bin/install -c src/patch /var/tmp/patch-root/usr/bin/`echo patch | sed 's,x,x,'`
/usr/bin/install -c -m 644 ./patch.man /var/tmp/patch-root/usr/share/man/man1/`echo patch | sed 's,x,x,'`.1
+ /usr/lib/rpm/compress_man.sh /var/tmp/patch-root
+ /usr/lib/rpm/strip.sh /var/tmp/patch-root
+ exit 0
Processing files: patch-2.6.1-3.x86_64
Requires: libc.so.6()(64bit) libc.so.6(GLIBC_2.2.5)(64bit) libc.so.6(GLIBC_2.3)(64bit)
Checking for unpackaged file(s): /usr/lib/rpm/check-files /var/tmp/patch-root
Wrote: /usr/src/rpm/SRPMS/patch-2.6.1-3.src.rpm
Wrote: /usr/src/rpm/RPMS/x86_64/patch-2.6.1-3.x86_64.rpm
Executing(%clean): /bin/sh -e /var/tmp/rpm-tmp.16089
+ umask 022
+ cd /usr/src/rpm/BUILD
+ cd patch-2.6.1
+ /bin/rm -rf /var/tmp/patch-root
